<!--Author: justfishin@icloud.com-->
<!--General help guide for Freezy Arena-->

{{define "title"}}Help - Running the Event{{end}}

{{define "body"}}
<link rel="stylesheet" href="/static/css/running_the_event_help.css">

<h1>Running an Event</h1>
<h3>Click on the card to be brought to the page it references.</h3>
<hr>

<h2>Setting Up the Arena</h2>
<div class="help-container">
  <div class="help-card" onclick="window.location='/setup/settings';">
    <div class="card-header">
      <span class="card-title">Event Settings Tab</span>
      <span class="pre-match-card">Size of Event and Alliances</span>
    </div>
    <div class="card-content">
      <p>Under the 'Event' tab, you can set the event name, playoff type (Double or Single elimination), number of alliances, selection order, and whether unpicked teams should be displayed.
        You can also choose to download team data from The Blue Alliance, optionally set an admin password, and back up or clear the database.
      </p>
    </div>
  </div>

  <div class="help-card" onclick="window.location='/setup/settings#game';">
    <div class="card-header">
      <span class="card-title">Game-Specific Tab</span>
      <span class="during-match-card">Match Durations and RP</span>
    </div>
    <div class="card-content">
      <p>On the 'Game' tab, you can configure the durations of Autonomous, the pause between Auto and Teleop, Teleop time, and the Endgame warning.
        You can also set thresholds for game-specific RP.
      </p>
    </div>
  </div>

  <div class="help-card" onclick="window.location='/setup/settings#field';">
    <div class="card-header">
      <span class="card-title">Field Settings Tab</span>
      <span class="post-match-card">Networking and PLC/IO</span>
    </div>
    <div class="card-content">
      <p>On the Field tab, you can enable and configure advanced networking (AP, AP Channel, L3 Switch), set the PLC address, enable alternate IO, and configure team sign display IDs if they are used.
        You can also enable DS Lite mode, allowing driver stations to retain robot control via spacebar E-Stop.
      </p>
    </div>
  </div>

  <div class="help-card" onclick="window.location='/setup/settings#publishing';">
    <div class="card-header">
      <span class="card-title">Publishing and Automation Tabs</span>
      <span class="other-details-card">TBA and Nexus Settings</span>
    </div>
    <div class="card-content">
      <p>On the 'Publishing' tab, you can set your TBA Event Code, Auth ID, and TBA Secret to allow publishing to The Blue Alliance. 
        On the 'Automation' tab, you can enable pulling lineups from Nexus and configure a Blackmagic HyperDeck to automatically start and stop video recording.
      </p>
    </div>
  </div>
</div>
<br>
<hr>

<h2>Team Setup, Match Schedule, and Field Testing</h2>
<div class="help-container">
  <div class="help-card" onclick="window.location='/setup/teams';">
    <div class="card-header">
      <span class="card-title">Team List Page</span>
      <span class="pre-match-card">Import Teams</span>
    </div>
    <div class="card-content">
      <p>Here, you can enter teams for the event. Enter one team number per line—just type the number and press Enter. No commas or spaces are required.
        Once completed, press 'Add Teams'. If TBA Download is enabled, it may take a few minutes to populate the data.
      </p>
    </div>
  </div>

  <div class="help-card" onclick="window.location='/setup/teams';">
    <div class="card-header">
      <span class="card-title">Edit Team Info</span>
      <span class="during-match-card">Edit Button</span>
    </div>
    <div class="card-content">
      <p>If you do not import team data from TBA, or need to make corrections, click the pencil icon next to the team's row. You can edit the team name, nickname, school name, city, state, country, rookie year, robot name, recent accomplishments, and whether they’ve connected to the field.
      </p>
    </div>
  </div>

  <div class="help-card" onclick="window.location='/setup/schedule';">
    <div class="card-header">
      <span class="card-title">Match Scheduling Page</span>
      <span class="post-match-card">Schedule Parameters</span>
    </div>
    <div class="card-content">
      <p>Use this screen to create practice (optional) and qualification match blocks. Enter a start and end time for each block, and define the cycle time (the time between match starts).
        If needed, add additional blocks (e.g., after lunch) by clicking 'Add Block'. When finished, click 'Generate/Save Blocks' and then 'Save Schedule' to finalize.
      </p>
    </div>
  </div>

  <div class="help-card" onclick="window.location='/setup/field_testing';">
    <div class="card-header">
      <span class="card-title">Field Testing Page</span>
      <span class="other-details-card">Verifying Functionality</span>
    </div>
    <div class="card-content">
      <p>Use the Field Testing screen to verify that PLC inputs and coils are triggering correctly. You can also confirm that game sounds are audible and coming from the correct locations.
      </p>
    </div>
  </div>
</div>
<br>
<hr>
<h2>Match Play</h2>
<div class="help-container">
  <div class="help-card" onclick="window.location='/match_play';">
    <div class="card-header">
      <span class="card-title">Match Setup</span>
      <span class="pre-match-card">Pre-Match</span>
    </div>
    <div class="card-content">
      <p>Before starting a match, all robots and driver stations must appear connected (green) in the Match Play interface.
        When ready, click 'Start Match' to begin robot movement. <b>Ensure all gates are closed and field personnel are clear.</b>
      </p>
    </div>
  </div>

  <div class="help-card" onclick="window.location='/match_play';">
    <div class="card-header">
      <span class="card-title">Active Match</span>
      <span class="during-match-card">During Match</span>
    </div>
    <div class="card-content">
      <p>The match progresses through three phases: Autonomous, Pause, and Teleop. In Autonomous, robots run pre-programmed routines. A brief pause (typically 3 seconds) follows.
        During Teleop, robots are controlled by drivers. When the Teleop period ends, all robots are automatically disabled.
        If necessary, use 'Abort' to stop the match immediately.
      </p>
    </div>
  </div>

  <div class="help-card" onclick="window.location='/match_play';">
    <div class="card-header">
      <span class="card-title">Post Match</span>
      <span class="post-match-card">Post-Match</span>
    </div>
    <div class="card-content">
      <p>Once the match is over, click 'Commit' to finalize scores—<b>only after the head referee gives approval</b>.
        If extra time is needed for score counting, click 'Count' to activate alliance station indicators. When ready, click 'Show Final Scores' to update the audience display. Ensure the announcer is prepared before proceeding.
      </p>
    </div>
  </div>

  <div class="help-card" onclick="window.location='/match_review';">
    <div class="card-header">
      <span class="card-title">Editing Scores</span>
      <span class="other-details-card">Other Situations</span>
    </div>
    <div class="card-content">
      <p>If you need to modify scores, click 'Edit Results'. After editing, click 'Save' and commit the scores as usual.
        Outside of live match play, go to Match Review and click 'Edit' on the desired match.
      </p>
    </div>
  </div>
</div>
<br>
<hr>

<h2>Reporting</h2>
<div class="help-container">
  <div class="help-card" onclick="window.location='/reports/pdf/teams';">
    <div class="card-header">
      <span class="card-title">Team Information and Schedules</span>
      <span class="pre-match-card">Team List and Schedules</span>
    </div>
    <div class="card-content">
      <p>To print a team list, go to Reports > PDF Reports > 'Team List'. For practice or qualification schedules, select the corresponding option under the same menu.
      </p>
    </div>
  </div>

  <div class="help-card" onclick="window.location='/reports/pdf/schedule/playoff';">
    <div class="card-header">
      <span class="card-title">Playoff Reports</span>
      <span class="during-match-card">Schedule, Alliances, and Bracket</span>
    </div>
    <div class="card-content">
      <p>Select from the PDF Reports menu to access: 
        <br>– 'Playoff Schedule' for the match schedule 
        <br>– 'Playoff Bracket' for the visual bracket
        <br>– 'Playoff Alliances' for alliance compositions.
      </p>
    </div>
  </div>

  <div class="help-card" onclick="window.location='/static/pdf/DriverStation_Preferences.pdf';">
    <div class="card-header">
      <span class="card-title">Alliance Station Preferences</span>
      <span class="post-match-card">Playoff Station Selections</span>
    </div>
    <div class="card-content">
      <p>You can generate preference sheets for alliance station selections in two ways:
        <br>– Help > DriverStation Preferences for 4-up printable cards
        <br>– Reports > Playoff Alliance Coupons (available after alliance selection) for an alternate format.
      </p>
    </div>
  </div>

  <div class="help-card" onclick="window.location='/reports/pdf/backups';">
    <div class="card-header">
      <span class="card-title">Backup Teams</span>
      <span class="other-details-card">Playoff Substitutions</span>
    </div>
    <div class="card-content">
      <p>Alliance captains may substitute robots during playoffs if their original robot is underperforming. 
        Backup teams are typically the highest-ranked unselected teams. Use Reports > Backup Teams to print a list of backup options.
      </p>
    </div>
  </div>
</div>
<br>
<hr>
<h2>Alliance Station Displays</h2>
<div class="help-container">
  <div class="help-card" onclick="window.location='/displays/alliance_station?station=R1';">
    <div class="card-header">
      <span class="card-title">Alliance Station Displays</span>
      <span class="pre-match-card">Pre-Match</span>
    </div>
    <div class="card-content">
      <p>Alliance Station Displays will show a team’s number and nickname. It will be either red or blue depending on the assigned alliance. If a team is disabled, it will display 'DISABLED' under their team number.
      </p>
    </div>
  </div>

  <div class="help-card" onclick="window.location='/displays/alliance_station?station=R2';">
    <div class="card-header">
      <span class="card-title">Alliance Station Displays</span>
      <span class="during-match-card">During Match</span>
    </div>
    <div class="card-content">
      <p>During the match, alliance station displays show red and blue alliance scores and the remaining match time. The middle display will show the match timer.
      </p>
    </div>
  </div>

  <div class="help-card" onclick="window.location='/displays/alliance_station?station=R3';">
    <div class="card-header">
      <span class="card-title">Alliance Station Displays</span>
      <span class="post-match-card">Post-Match</span>
    </div>
    <div class="card-content">
      <p>After a match, alliance station displays will continue showing team numbers until the head referee signals 'Count' or 'Field Reset'.
        The driver station may flash amber or display solid amber to indicate an A-Stop or E-Stop trip.
      </p>
    </div>
  </div>

  <div class="help-card" onclick="window.location='/displays/alliance_station?station=B1';">
    <div class="card-header">
      <span class="card-title">Alliance Station Displays</span>
      <span class="other-details-card">Continuous</span>
    </div>
    <div class="card-content">
      <p>Alliance station displays also play game sounds.
      </p>
    </div>
  </div>
</div>
<br>
<hr>

<h2>Audience Displays</h2>
<div class="help-container">
  <div class="help-card" onclick="window.location='/displays/audience';">
    <div class="card-header">
      <span class="card-title">Audience Displays</span>
      <span class="pre-match-card">Pre-Match</span>
    </div>
    <div class="card-content">
      <p>Before the match, the audience display shows a 'Match Intro' screen with team avatars, match number, match type, and event name.
      </p>
    </div>
  </div>

  <div class="help-card" onclick="window.location='/displays/audience';">
    <div class="card-header">
      <span class="card-title">Audience Displays</span>
      <span class="during-match-card">During Match</span>
    </div>
    <div class="card-content">
      <p>During a match, the audience display shows the 'Match Play' screen, which includes team avatars, scores, match time remaining, and event details.
      </p>
    </div>
  </div>

  <div class="help-card" onclick="window.location='/displays/audience';">
    <div class="card-header">
      <span class="card-title">Audience Displays</span>
      <span class="post-match-card">Post-Match</span>
    </div>
    <div class="card-content">
      <p>After the match, the audience display transitions to 'Blank' until the final scores are shown. When 'Show Final Score' is clicked, the display switches to the final score screen with results and ranking updates.
      </p>
    </div>
  </div>

  <div class="help-card" onclick="window.location='/displays/audience';">
    <div class="card-header">
      <span class="card-title">Audience Displays</span>
      <span class="other-details-card">Other Functions</span>
    </div>
    <div class="card-content">
      <p>The audience display can also show the playoff bracket, alliance selection graphics, sponsor reel, or game logo (if configured). Game sounds are always played.
      </p>
    </div>
  </div>
</div>
<br>
<hr>
<h2>Alliance Station E-Stop / A-Stop</h2>
<div class="help-container">
  <div class="help-card" onclick="window.location='/panel/freezy/eStopControl/red';">
    <div class="card-header">
      <span class="card-title">E-Stop / A-Stop</span>
      <span class="pre-match-card">Pre-Match</span>
    </div>
    <div class="card-content">
      <p>From the A-Stop / E-Stop panel, teams can be A-Stopped or E-Stopped. If a team is A-Stopped before a match begins, they will be re-enabled at the start of Teleop.
        A team cannot be E-Stopped before a match—doing so will prevent the match from starting.
      </p>
    </div>
  </div>

  <div class="help-card" onclick="window.location='/panel/freezy/eStopControl/blue';">
    <div class="card-header">
      <span class="card-title">E-Stop / A-Stop</span>
      <span class="during-match-card">During Match</span>
    </div>
    <div class="card-content">
      <p>If a team A-Stops during Autonomous, their robot will be disabled for the remainder of the Autonomous period. The A-Stop cannot be used during Teleop.
        If a team is E-Stopped at any point during the match, their robot is disabled for the remainder of the match and cannot be re-enabled.
      </p>
    </div>
  </div>

  <div class="help-card" onclick="window.location='/panel/freezy/eStopControl/red';">
    <div class="card-header">
      <span class="card-title">E-Stop / A-Stop</span>
      <span class="post-match-card">Post-Match</span>
    </div>
    <div class="card-content">
      <p>After a match, all A-Stops and E-Stops must be physically reset by releasing the pressed button.
        This is indicated by flashing amber on the driver station for an A-Stop, or solid amber for an E-Stop.
      </p>
    </div>
  </div>

  <div class="help-card" onclick="window.location='/panel/freezy/eStopControl/blue';">
    <div class="card-header">
      <span class="card-title">E-Stop / A-Stop</span>
      <span class="other-details-card">Other Functions</span>
    </div>
    <div class="card-content">
      <p>Optionally, all teams can be A-Stopped or E-Stopped from the FMS panel (Panels > E-Stops / A-Stops > Red or Blue).
        This is useful for events that do not have physical stop buttons in the driver stations.
      </p>
    </div>
  </div>
</div>
<br>

{{end}}

{{define "script"}}
<!-- No additional scripts needed -->
{{end}}
